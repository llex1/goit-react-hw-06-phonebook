(this["webpackJsonpgoit-react-hw-03-phonebook"]=this["webpackJsonpgoit-react-hw-03-phonebook"]||[]).push([[0],{24:function(t,e,a){},25:function(t,e,a){},26:function(t,e,a){},30:function(t,e,a){},31:function(t,e,a){},32:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a(1),r=a(10),s=a.n(r),o=a(2),l=a(3),i=a(5),u=a(4),h=a(34),b=a(6),m=function(t,e){var a=this,n=t.id,c=t.name,r=t.number;switch(e){case"ADD":c&&this.state.contacts.map((function(t){return t.name})).includes(c)?(this.setState((function(t){return{alert:!0,alertMessage:"Sorry, but You already have this contact in your base."}})),clearTimeout(this.delayToCloseAlert),this.delayToCloseAlert=setTimeout((function(){a.setState((function(t){return{alert:!1,alertMessage:""}}))}),3e3)):c&&this.setState((function(t){return{contacts:[].concat(Object(b.a)(t.contacts),[{id:n,name:c,number:r}])}}));break;case"DELETE":if(this.state.filter.length){var s=0;this.state.filter.forEach((function(t,e){t.id===n&&(s=e)}));var o=Object(b.a)(this.state.filter);o.splice(s,1),this.setState((function(t){return{filter:Object(b.a)(o)}}))}var l=0;this.state.contacts.forEach((function(t,e){t.id===n&&(l=e)}));var i=Object(b.a)(this.state.contacts);i.splice(l,1),this.setState((function(t){return{contacts:Object(b.a)(i)}}));break;case"FILTER":var u=[];c?(this.state.contacts.forEach((function(t){return t.name.includes(c)&&u.push(t),{filter:u}})),this.setState((function(t){return{filter:[].concat(u)}}))):this.setState((function(t){return{filter:[].concat(u)}}));break;default:console.log("can't parth marker")}},d=function(t){console.log(t,"boolens"),console.log(this.state.contacts,"THISSTATE"),!t&&localStorage.getItem("contacts")&&this.setState((function(t){return{contacts:Object(b.a)(JSON.parse(localStorage.getItem("contacts")))}})),t&&localStorage.setItem("contacts",JSON.stringify(this.state.contacts))},f=(a(24),function(t){Object(i.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={},t}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"alert",children:Object(n.jsx)("p",{className:"alert-text",children:this.props.text})})}}]),a}(c.Component)),j=(a(25),function(t){Object(i.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={},t}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("header",{className:"header",children:Object(n.jsx)("p",{children:"Phonebook"})})}}]),a}(c.Component)),p=a(35),O=a(7),v=a.n(O),g=function(t){Object(i.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={valueName:"",valueNumder:""},t.handleChange=function(e){switch(e.target.name){case"name":t.setState((function(t){return{valueName:e.target.value}}));break;case"number":t.setState((function(t){return{valueNumder:e.target.value}}));break;default:console.log("error form-name")}},t.handleSubmit=function(e){e.preventDefault();var a={id:Object(p.a)(),name:t.state.valueName,number:t.state.valueNumder};t.props.globalStateControl(a,"ADD"),t.setState((function(t){return{valueName:"",valueNumder:""}}))},t}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("form",{className:v.a.form,onSubmit:this.handleSubmit,children:[Object(n.jsx)("label",{className:v.a.label,htmlFor:"name",children:"Contact Name"}),Object(n.jsx)("input",{required:!0,className:v.a.input,type:"text",name:"name",id:"name",placeholder:"name",autoComplete:"off",value:this.state.valueName,onChange:this.handleChange}),Object(n.jsx)("label",{className:v.a.label,htmlFor:"number",children:"Contact Number"}),Object(n.jsx)("input",{className:v.a.input,type:"tel",name:"number",id:"number",placeholder:"063-333-4444",autoComplete:"off",pattern:"[0-9\\W]*",value:this.state.valueNumder,onChange:this.handleChange}),Object(n.jsx)("button",{className:v.a.btn,type:"submit",children:"new contact"})]})}}]),a}(c.Component),x=a(36),y=(a(26),function(t){Object(i.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))).state={},t.deleteContact=function(e){var a=e.target.dataset.id;t.props.globalStateControl({id:a},"DELETE")},t.contactList=function(){return(t.props.globalState.filter.length?t.props.globalState.filter:t.props.globalState.contacts).map((function(e,a){return Object(n.jsx)(h.a,{timeout:250,classNames:"contact-show-list-item",children:Object(n.jsxs)("li",{className:"contact-show-list-item",children:[Object(n.jsxs)("p",{className:"contact-show-list-text",children:[Object(n.jsx)("span",{children:e.name}),Object(n.jsx)("span",{children:e.number})]}),Object(n.jsx)("button",{"data-id":e.id,onClick:t.deleteContact,children:"delete"})]},e.id)},a)}))},t}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(){this.contactList()}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"contact-show",children:[this.props.children,Object(n.jsx)(x.a,{component:"ul",className:".contact-show-list",children:this.contactList()})]})}}]),a}(c.Component)),C=a(15),N=a.n(C),S=a(16),k=(a(30),function(t){Object(i.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={value:""},t.handleChange=function(){var e=Object(S.a)(N.a.mark((function e(a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState((function(t){return{value:a.target.value}}));case 2:t.props.globalStateControl({name:t.state.value},"FILTER");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"filter",children:[Object(n.jsx)("label",{htmlFor:"filter",children:"Filter"}),Object(n.jsx)("input",{id:"filter",type:"text",name:"filter",value:this.state.value,onChange:this.handleChange})]})}}]),a}(c.Component)),w=(a(31),function(t){Object(i.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={contacts:[],filter:"",alert:!1,alertMessage:""},t.delayToCloseAlert=null,t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){d.call(this)}},{key:"componentDidUpdate",value:function(){d.call(this,!0)}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"phonebook",children:[Object(n.jsx)(h.a,{in:this.state.alert,classNames:"alert",timeout:250,unmountOnExit:!0,children:Object(n.jsx)(f,{text:this.state.alertMessage})}),Object(n.jsx)(h.a,{in:!0,appear:!0,classNames:"header",timeout:500,unmountOnExit:!0,children:Object(n.jsx)(j,{})}),Object(n.jsx)(g,{globalStateControl:m.bind(this)}),Object(n.jsx)(y,{globalStateControl:m.bind(this),globalState:this.state,children:Object(n.jsx)(h.a,{in:this.state.contacts.length>1,classNames:"filter",timeout:250,unmountOnExit:!0,children:Object(n.jsx)(k,{globalStateControl:m.bind(this)})})})]})}}]),a}(c.Component));s.a.render(Object(n.jsx)(w,{}),document.getElementById("root"))},7:function(t,e,a){t.exports={form:"ContactAdd_form__NRizT",label:"ContactAdd_label__3aJLR",input:"ContactAdd_input__1Fx51",btn:"ContactAdd_btn__1U505"}}},[[32,1,2]]]);
//# sourceMappingURL=main.23db57a3.chunk.js.map